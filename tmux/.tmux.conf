# ==============================================================================
# Tmux
# DaikieJP - 2026
# ==============================================================================

set -g default-command "reattach-to-user-namespace -l /bin/zsh"
set-option -g default-shell /bin/zsh
set-option -g default-command /bin/zsh

# ==============================================================================
# Start line at 1: Windows, Pane
# ==============================================================================

set -g base-index 1
setw -g pane-base-index 1

# ==============================================================================
# Resizes
# ==============================================================================

bind h resize-pane -L 5
bind l resize-pane -R 5
bind k resize-pane -U 5
bind j resize-pane -D 5

# ==============================================================================
# Floating Windows
# ==============================================================================

bind-key g if-shell -F '#{!=:#{session_name},scratch}' \
  "display-popup -d '#{pane_current_path}' -w 80% -h 70% -E 'tmux new-session -A -s scratch'" \
  "detach-client"

# ==============================================================================
# Plugins
# ==============================================================================

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'dracula/tmux'

# ==============================================================================
# Theme - Dracula
# ==============================================================================

set -g @dracula-show-empty-plugins false
set -g @dracula-plugins "battery custom:daikie.sh weather"

set -g @dracula-battery-label "♥ "

set -g @dracula-show-fahrenheit false
set -g @dracula-weather-hide-errors true
set -g @dracula-fixed-location "東京"

run '~/.tmux/plugins/tpm/tpm'
set -g status-left ""
